<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart</title>
    <link rel="stylesheet" href="responsive.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="style_heroscroll.css">
    <link rel="stylesheet" href="style_sidenavbar.css">
    <link rel="icon" href="food.png" type="image/x-icon"/>
    
    
    <style>
        .space{
            height:500px;
        }
         .upper-frame {
            text-align: left;
            padding: 10px;
            background-color: #f9f9f9;
        }
        .left-frame {
            float: left;
            width: 70%;
            padding: 20px;
            height:200px;
            border-right: 1px solid #ddd;
        }
        
        .right-frame {
            float: right;
            width:25%;
            height:200px;
            padding: 10px;
        }

        .checkout-button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
            width:375px;
        }

        .checkout-button:hover {
            background-color: #45a049;
        }

        #totalPrice {
            margin-top: 0; 
        }

.item-button {
    border: 1px solid #ddd;
    padding: 5px 10px;
    cursor: pointer;
    margin-right: 5px;
}

.item-button:hover {
    background-color: #ddd;
}

/* CSS for quantity buttons */
.quantity button {
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 3px;
    cursor: pointer;
    padding: 5px;
    margin: 0 3px;
}
/* CSS for cart item layout */
.cart-item {
    display: flex;
    align-items: center;
}

.item-details {
    flex: 1;
}

.quantity {
    display: flex;
    align-items: center;
    gap: 10px;
}

.quantity button {
    padding: 8px 15px; /* Adjust button padding */
    font-size: 16px; /* Adjust button font size */
}


/* CSS for spacing between items */
#space {
    height: 20px;
}

        img{
            width:70px;
            height:30px;
            padding-right: 5px;
        }
        p{
            font-size: larger;
        }
        .delete-button {
    padding: 8px 20px; 
    font-size: 16px; 
}

img:hover {
    transform: scale(1.1); 
    transition: transform 0.3s ease; 
}
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="navbar">

            <div class="nav-logo border" >
                <div class="logo"><img src="logo.png" style="height: 50px; border-radius: 5px;"/></div>
            </div>
      
            <div class="nav-address border">
                <p class="add-first">Deliver to</p>
                <div class="add-icon">
                    <i class="fa-solid fa-location-dot"></i>
                    <p class="add-second"><b>India</b></p>
                </div>
            </div>
      
            <div class="nav-search">
                <input placeholder="Search Restaurants" class="search-input">
                <div class="search-icon">
                    <i class="fa-solid fa-magnifying-glass"></i>
                </div>
            </div>

            <div class="nav-Login border">
                <p class="nav-first"><a href="LoginIn.html" style="color: #FFFDD0; text-decoration: none;">   Login</a> </p>
              </div>
  
              <div class="nav-Signup border">
                  <p class="nav-first"><a href="SignUp.html" style="color: #FFFDD0; text-decoration: none;">  SignUp</a></p>
   
                </div>
  
                <div class="nav-download border">
                  <p class="nav-first"><a href="download.html" style="color: #FFFDD0; text-decoration: none;"> Download App</a> </p>
   
                </div>

              <a href="#" style="color: #FFFDD0;"><i class="fa-regular fa-user" style="font-size: x-large;"></i></a>
        </div>
        
        
        
            
        <div class="panel">
            <!--
            <div class="panel-all">
                
                <a href="#" style="color: #FFFDD0; text-decoration: none;"><i class="fa-solid fa-bars" style="font-size: x-large;"></i></a>
            </div>
    -->
    <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <a href="index.html" class="option"><i class="fa-solid fa-house-chimney"></i> &nbsp;&nbsp;Home</a><br>
        <a href="#" class="option"><i class="fa-solid fa-utensils"></i> &nbsp;&nbsp;Restaurants</a><br>
        <a href="#" class="option"><i class="fa-solid fa-file-invoice"></i> &nbsp;&nbsp;Bills</a><br>
        <a href="#" class="option"><i class="fa-solid fa-cart-shopping"></i> &nbsp;&nbsp;My Orders</a><br>
        <a href="#" class="option"><i class="fa-solid fa-wallet"></i> &nbsp;&nbsp;Wallet</a><br>
        <a href="#" class="option logout"><i class="fa-solid fa-right-from-bracket"></i> &nbsp;&nbsp;Logout</a>
      </div>
      
      <div id="overlay" class="overlay"></div> <!-- Overlay element -->
      
      <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776;</span>
           
      <div class="panel-ops ">
        <p><a href="index.html" style="color: #FFFDD0; text-decoration: none; margin-left: 2.5%;">HOME</a></p>
        <p><a href="#" style="color: #FFFDD0; text-decoration: none;">OFFERS</a></p>
        <p><a href="about.html" style="color: #FFFDD0; text-decoration: none;">ABOUT US</a></p>
        <p><a href="survey.html" style="color: #FFFDD0; text-decoration: none;">FEEDBACK</a></p>
        <p><a href="help.html" style="color: #FFFDD0; text-decoration: none;">HELP</a></p>
    </div>
            <div class="panel-deals" >
                <div class="nav-cart border">
                    
                    <a href="Final Shopping Cart.html" style="color: #FFFDD0; text-decoration: none;"><i class="fa-solid fa-bag-shopping"></i> Cart</a>
                  </div>
            </div>
          </div>
    </header>
   
    <body>
  
        <div class="upper-frame">
            <h1>MY CART</h1>
        </div>
    
        <div class="left-frame" id="cartItems"></div>
    
        <div class="right-frame">
            <div id="deliveryFee"></div> 
            <div id ="taxes"></div><br>
            <h1 id="totalPrice">Total Price</h1> 
            
            <div>
                <br><br>
                <p style="font-weight: bold;">WE ACCEPT:</p><br>
                <img src="visa.png"> <img src="mastercard.png"> <img src="paytm.jpeg"> <img src="download.png"> <img src="debit.jpg">
            </div>
           <button class="checkout-button" onclick="redirectToFinalBill()"><b>CHECKOUT</b></button>
        </div>
        </div>
    <div class="space"></div>
    
    <script>
        function redirectToFinalBill(){
            window.location.href = "Final_bill.html";
        }
    </script>
    <script>
    // Retrieve cart items from localStorage
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    function updateCartDisplay() {
        let cartItemsDiv = document.getElementById('cartItems');
        let deliveryFeeDiv = document.getElementById('deliveryFee');
        let taxesDiv = document.getElementById('taxes');
        let totalPriceDiv = document.getElementById('totalPrice');
        

        cartItemsDiv.innerHTML = ''; 

        cart.forEach((item, index) => {
            let itemDiv = document.createElement('div');
            let totalPrice = item.price * item.quantity; // Calculate total price
            itemDiv.innerHTML = `<hr><br>
                <div style="margin-bottom: 40px;"> <!-- Add margin-bottom -->
                    <p>${item.name} - Rs.${totalPrice.toFixed(2)}</p><br>
                    
                    <div class="quantity">
                        <br>
                        <button onclick="decrementItem(${index})">-</button>
                        <span>${item.quantity}</span>
                        <button onclick="incrementItem(${index})">+</button>
                    </div>
                    <br>
                    <button class="delete-button" onclick="deleteItem(${index})">Delete</button>
                </div>
            `;
            cartItemsDiv.appendChild(itemDiv);
        });

    
        let totalPrice = calculateTotalPrice();
        let deliveryFee = 85; // Example delivery fee
        let taxes = 25.5; // Example taxes
        let totalCharge = totalPrice + deliveryFee + taxes;

        totalPriceDiv.innerHTML = `<p style="font-size: 20px; font-weight: bold;">Total Price: Rs.${totalCharge.toFixed(2)}</p>`;

        deliveryFeeDiv.innerHTML = `<p>Delivery Charges: Rs.${deliveryFee.toFixed(2)}</p>`;

        taxesDiv.innerHTML = `<p>Taxes: Rs.${taxes.toFixed(2)}</p>`;
    }

    function calculateTotalPrice() {
        let totalPrice = 0;
        cart.forEach(item => {
            totalPrice += item.price * item.quantity; // Calculate item subtotal
        });
        return totalPrice;
    }

    function deleteItem(index) {
        cart.splice(index, 1); // Remove item from cart array
        localStorage.setItem('cart', JSON.stringify(cart)); // Update localStorage
        updateCartDisplay(); // Update cart display
    }

    function incrementItem(index) {
        cart[index].quantity++; // Increment quantity
        localStorage.setItem('cart', JSON.stringify(cart)); // Update localStorage
        updateCartDisplay(); // Update cart display
    }

    function decrementItem(index) {
        if (cart[index].quantity > 1) {
            cart[index].quantity--; // Decrement quantity if greater than 1
            localStorage.setItem('cart', JSON.stringify(cart)); // Update localStorage
            updateCartDisplay(); // Update cart display
        }
    }

    updateCartDisplay(); // Initial update
</script>


    </script>   
    <footer>
        <div class="space"></div>
        <div class="foot-panel1">
            <a href="Final Shopping Cart.html" style="text-decoration: none; color: #FFFDD0;"> Back to Top</a> 
        </div>
   
        <div class="foot-panel2">
            <ul>
                <p><b>Get to Know us</b></p>
                <a>Careers</a>
                <a>Blog</a>
                <a>About Amazon</a>
                <a>Investor Reations</a>
                <a>Amazon Devices</a>
                <a>Amazon Science</a>
            </ul>
    
            <ul>
                <p><b>Make Money with Us</b></p>
                <a>Sell products on Amazon</a>
                <a>Sell on Amazon Business</a>
                <a>Sell apps on Amazon</a>
                <a>Become an Affiliate</a>
                <a>Adevertise Your Products</a>
                <a>Self-Publish with Us</a>
                <a>Host an Amzon Hub</a>
                <a>See more Make Money with Us</a>
            </ul>
    
            <ul>
                <p><b>Amazon Pyment Products</b></p>
                <a>Amazon Business Card</a>
                <a>Shop with Points</a>
                <a>Reload Your Balance</a>
                <a>AmazonCurrency Convertor</a>
            </ul>
    
            <ul>
                <p><b>Let Us Help You</b></p>
                <a>Amazon and COVID-19</a>
                <a>Your Account</a>
                <a>Your Orders</a>
                <a>Shopping Rates & Policies</a>
                <a>Returns & Replacements</a>
                <a> Manage Your Content and Devices</a>
                <a>Amazon Assistant</a>
                <a>Help</a>
    
            </ul>
        </div>
    
        
        <div class="foot-panel3">
            <div class="logo"><img src="logo.png" style="height: 60px; width: 100px;"></div>
        </div>
        <div class="foot-panel4">
            <div class="pages">
                <a>Conditions of Use</a>
                <a>Privacy Notice</a>
                <a> Your ads Privacy Choices</a>
            </div>
            
            <div class="copyright">
                (c) 1996-2024, Amazon.com, Inc. or its affiliates
            </div>
        </div>
    </footer>
    <script src="sidenavbar.js"></script>   
</body>
</html>
